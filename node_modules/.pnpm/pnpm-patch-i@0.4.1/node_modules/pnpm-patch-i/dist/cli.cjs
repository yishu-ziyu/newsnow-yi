'use strict';

const cac = require('cac');
const index = require('./index.cjs');
require('node:path');
require('pathe');
require('nanoid/non-secure');
require('execa');
require('fs-extra');
require('micromatch');
require('prompts');
require('find-up');
require('launch-editor');
require('picocolors');

const cli = cac.cac("pnpm-patch-i");
cli.command("<package-name> [source-dir]", "Patch a package").option("-y, --yes", "Skip confirmation").option("-b, --build", "Build the source package before patching, only available when dir is not specified").action((name, sourceDir, options) => {
  return index.startPatch({
    name,
    yes: options.yes,
    sourceDir,
    build: options.build
  });
});
cli.help();
cli.parse();
