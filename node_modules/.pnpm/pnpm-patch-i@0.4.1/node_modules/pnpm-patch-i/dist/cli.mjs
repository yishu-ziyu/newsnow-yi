import { cac } from 'cac';
import { startPatch } from './index.mjs';
import 'node:path';
import 'pathe';
import 'nanoid/non-secure';
import 'execa';
import 'fs-extra';
import 'micromatch';
import 'prompts';
import 'find-up';
import 'launch-editor';
import 'picocolors';

const cli = cac("pnpm-patch-i");
cli.command("<package-name> [source-dir]", "Patch a package").option("-y, --yes", "Skip confirmation").option("-b, --build", "Build the source package before patching, only available when dir is not specified").action((name, sourceDir, options) => {
  return startPatch({
    name,
    yes: options.yes,
    sourceDir,
    build: options.build
  });
});
cli.help();
cli.parse();
